
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <meta
            name="description"
            content="Documentation for the Society Docs API"
        >
    <title>Twilight Relayer API Reference</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-6e4f8a2e.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-966d6edc.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-b12a2749.js"></script>

    <script>
      $(function() { setupCodeCopy(); });
    </script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;javascript&quot;,&quot;rust&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.webp" class="logo" alt="" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
              <a href="#" data-language-name="javascript">javascript</a>
              <a href="#" data-language-name="rust">rust</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#society-management-app-gateway-api-design" class="toc-h1 toc-link" data-title="Society Management App(Gateway) - API Design">Society Management App(Gateway) - API Design</a>
          </li>
          <li>
            <a href="#enroll-your-society-module" class="toc-h1 toc-link" data-title="Enroll Your Society Module">Enroll Your Society Module</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#1-enroll-your-society" class="toc-h2 toc-link" data-title="1. Enroll your society">1. Enroll your society</a>
                  </li>
                  <li>
                    <a href="#2-enroll-a-new-society-internal-api" class="toc-h2 toc-link" data-title="2.  Enroll a New Society (Internal API)">2.  Enroll a New Society (Internal API)</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#1-authentication" class="toc-h2 toc-link" data-title="1. Authentication">1. Authentication</a>
                  </li>
                  <li>
                    <a href="#2-get-current-logged-in-user-profile-auth" class="toc-h2 toc-link" data-title="2. Get Current Logged In User profile (/auth)">2. Get Current Logged In User profile (<code>/auth</code>)</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#society-management" class="toc-h1 toc-link" data-title="Society Management">Society Management</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#society-amp-people-mangement" class="toc-h2 toc-link" data-title="Society &amp; People Mangement">Society &amp; People Mangement</a>
                  </li>
                  <li>
                    <a href="#1-get-society-details" class="toc-h2 toc-link" data-title="1. Get Society Details">1. Get Society Details</a>
                  </li>
                  <li>
                    <a href="#2-update-society-details" class="toc-h2 toc-link" data-title="2. Update Society Details">2. Update Society Details</a>
                  </li>
                  <li>
                    <a href="#3-get-all-members" class="toc-h2 toc-link" data-title="3. Get All Members">3. Get All Members</a>
                  </li>
                  <li>
                    <a href="#4-create-a-new-member" class="toc-h2 toc-link" data-title="4. Create a New Member">4. Create a New Member</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#gate-amp-visitor-management" class="toc-h1 toc-link" data-title="Gate &amp; Visitor Management">Gate &amp; Visitor Management</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#1-list-all-staff" class="toc-h2 toc-link" data-title="1. List All Staff">1. List All Staff</a>
                  </li>
                  <li>
                    <a href="#2-add-new-staff" class="toc-h2 toc-link" data-title="2. Add New Staff">2. Add New Staff</a>
                  </li>
                  <li>
                    <a href="#3-get-visitor-log" class="toc-h2 toc-link" data-title="3. Get Visitor Log">3. Get Visitor Log</a>
                  </li>
                  <li>
                    <a href="#4-pre-approve-a-visitor-resident-action" class="toc-h2 toc-link" data-title="4. Pre-Approve a Visitor (Resident Action)">4. Pre-Approve a Visitor (Resident Action)</a>
                  </li>
                  <li>
                    <a href="#5-mark-visitor-exit-guard-action" class="toc-h2 toc-link" data-title="5. Mark Visitor Exit (Guard Action)">5. Mark Visitor Exit (Guard Action)</a>
                  </li>
                  <li>
                    <a href="#6-get-parcel-log" class="toc-h2 toc-link" data-title="6. Get Parcel Log">6. Get Parcel Log</a>
                  </li>
                  <li>
                    <a href="#7-get-attendance-summary" class="toc-h2 toc-link" data-title="7. Get Attendance Summary">7. Get Attendance Summary</a>
                  </li>
                  <li>
                    <a href="#8-mark-attendance" class="toc-h2 toc-link" data-title="8. Mark Attendance">8. Mark Attendance</a>
                  </li>
                  <li>
                    <a href="#9-update-past-attendance-admin-only" class="toc-h2 toc-link" data-title="9. Update Past Attendance (Admin Only)">9. Update Past Attendance (Admin Only)</a>
                  </li>
                  <li>
                    <a href="#10-generate-attendance-report" class="toc-h2 toc-link" data-title="10. Generate Attendance Report">10. Generate Attendance Report</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#flats-amp-resident-management" class="toc-h1 toc-link" data-title="Flats &amp; Resident Management">Flats &amp; Resident Management</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#1-list-all-flats" class="toc-h2 toc-link" data-title="1. List All Flats">1. List All Flats</a>
                  </li>
                  <li>
                    <a href="#2-add-a-new-flat" class="toc-h2 toc-link" data-title="2. Add a New Flat">2. Add a New Flat</a>
                  </li>
                  <li>
                    <a href="#3-list-all-rent-agreements" class="toc-h2 toc-link" data-title="3. List All Rent Agreements">3. List All Rent Agreements</a>
                  </li>
                  <li>
                    <a href="#4-add-a-new-rent-agreement" class="toc-h2 toc-link" data-title="4. Add a New Rent Agreement">4. Add a New Rent Agreement</a>
                  </li>
                  <li>
                    <a href="#5-send-registration-bulk-action" class="toc-h2 toc-link" data-title="5. Send Registration (Bulk Action)">5. Send Registration (Bulk Action)</a>
                  </li>
                  <li>
                    <a href="#6-set-reminder-bulk-action" class="toc-h2 toc-link" data-title="6. Set Reminder (Bulk Action)">6. Set Reminder (Bulk Action)</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#parking-management" class="toc-h1 toc-link" data-title="Parking Management">Parking Management</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#1-get-parking-dashboard-summary" class="toc-h2 toc-link" data-title="1. Get Parking Dashboard Summary">1. Get Parking Dashboard Summary</a>
                  </li>
                  <li>
                    <a href="#2-list-parking-slots" class="toc-h2 toc-link" data-title="2. List Parking Slots">2. List Parking Slots</a>
                  </li>
                  <li>
                    <a href="#3-create-a-new-parking-slot" class="toc-h2 toc-link" data-title="3. Create a New Parking Slot">3. Create a New Parking Slot</a>
                  </li>
                  <li>
                    <a href="#4-allocate-a-parking-slot" class="toc-h2 toc-link" data-title="4. Allocate a Parking Slot">4. Allocate a Parking Slot</a>
                  </li>
                  <li>
                    <a href="#5-de-allocate-a-parking-slot" class="toc-h2 toc-link" data-title="5. De-allocate a Parking Slot">5. De-allocate a Parking Slot</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#amenities-and-classes" class="toc-h1 toc-link" data-title="Amenities And Classes">Amenities And Classes</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#1-get-amenities-dashboard-summary" class="toc-h2 toc-link" data-title="1. Get Amenities Dashboard Summary">1. Get Amenities Dashboard Summary</a>
                  </li>
                  <li>
                    <a href="#2-list-amenity-bookings" class="toc-h2 toc-link" data-title="2. List Amenity Bookings">2. List Amenity Bookings</a>
                  </li>
                  <li>
                    <a href="#3-add-a-new-amenity" class="toc-h2 toc-link" data-title="3. Add a New Amenity">3. Add a New Amenity</a>
                  </li>
                  <li>
                    <a href="#4-get-single-booking-details" class="toc-h2 toc-link" data-title="4. Get Single Booking Details">4. Get Single Booking Details</a>
                  </li>
                  <li>
                    <a href="#5-create-a-booking-resident-action" class="toc-h2 toc-link" data-title="5.  Create a Booking (Resident Action)">5.  Create a Booking (Resident Action)</a>
                  </li>
                  <li>
                    <a href="#6-update-booking-status-admin-actions" class="toc-h2 toc-link" data-title="6.  Update Booking Status (Admin Actions)">6.  Update Booking Status (Admin Actions)</a>
                  </li>
                  <li>
                    <a href="#7-edit-amp-reschedule-a-booking-admin-action" class="toc-h2 toc-link" data-title="7. Edit &amp; Reschedule a Booking (Admin Action)">7. Edit &amp; Reschedule a Booking (Admin Action)</a>
                  </li>
                  <li>
                    <a href="#8-delete-a-booking-admin-action" class="toc-h2 toc-link" data-title="8. Delete a Booking (Admin Action)">8. Delete a Booking (Admin Action)</a>
                  </li>
                  <li>
                    <a href="#9-manage-payment-status-admin-action" class="toc-h2 toc-link" data-title="9.  Manage Payment Status (Admin Action)">9.  Manage Payment Status (Admin Action)</a>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li>Society © 2025</li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Welcome to the Society Docs API! You can utilize our API to access Society API endpoints, which provide information on various operations within our system.</p>

<h1 id='society-management-app-gateway-api-design'>Society Management App(Gateway) - API Design</h1>

<p><strong>Version:</strong> 1.0.0
<strong>Base URL:</strong> <code>/api/v1</code></p>

<p>This document provides a specification for the REST API. It&#39;s the single source of truth for both frontend and backend development.</p>

<h1 id='enroll-your-society-module'>Enroll Your Society Module</h1><h2 id='1-enroll-your-society'>1. Enroll your society</h2>
<blockquote>
<p>Request Body:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Aditya Mishra"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9876543210"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"societyName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Prestige Lakeside Habitation"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bhopal"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"Reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Interested for Demo"</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">or</span><span class="w"> </span><span class="err">existing</span><span class="w"> </span><span class="err">user</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Successful Response (200 OK):</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Your Request accepted by our Team."</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Manages when the customer comes to our website for enrolling their society or for taking a demo or want to buy a product as a existing user.</p>
<h3 id='post-leads'><strong>POST</strong> <code>/leads</code></h3>
<ul>
<li><strong>Description:</strong> Form for enrolling the society for taking a demo or as a existing user</li>
<li><strong>Authorization:</strong> None(public).</li>
</ul>
<h3 id='request-body'>Request Body</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>name</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The full name of the person making the inquiry.</td>
</tr>
<tr>
<td style="text-align: left"><code>mobile</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The contact mobile number of the person.</td>
</tr>
<tr>
<td style="text-align: left"><code>societyName</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The name of the society.</td>
</tr>
<tr>
<td style="text-align: left"><code>city</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The city where the society is located.</td>
</tr>
<tr>
<td style="text-align: left"><code>Reason</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The purpose of the inquiry (e.g., &quot;Interested for Demo&quot;).</td>
</tr>
</tbody></table>
<h3 id='response'>Response</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>message</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">A confirmation that the lead was submitted successfully.</td>
</tr>
</tbody></table>
<h2 id='2-enroll-a-new-society-internal-api'>2.  Enroll a New Society (Internal API)</h2>
<blockquote>
<p>Example Request:</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">fetch</span><span class="p">(</span><span class="dl">'</span><span class="s1">/api/v1/enrollment</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">headers</span><span class="p">:</span> <span class="p">{</span> <span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span> <span class="p">},</span>
  <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
    <span class="na">societyName</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Prestige Lakeside Habitation</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">registrationNumber</span><span class="p">:</span> <span class="dl">"</span><span class="s2">KA-BNG-12345</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">address</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Whitefield Main Road</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">adminName</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Aditya Mishra</span><span class="dl">"</span><span class="p">,</span>
    <span class="nx">adminEmail</span><span class="dl">"</span><span class="s2">: </span><span class="dl">"</span><span class="nx">aditya</span><span class="p">.</span><span class="nx">m</span><span class="p">@</span><span class="nd">example</span><span class="p">.</span><span class="nx">com</span><span class="dl">"</span><span class="s2">,
    adminPhone</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">9876543210</span><span class="dl">"</span><span class="p">,</span>
    <span class="nx">password</span><span class="dl">"</span><span class="s2">: </span><span class="dl">"</span><span class="nx">a_very_strong_password</span><span class="dl">"</span><span class="s2">
  })
});
</span></code></pre></div>
<blockquote>
<p>Successful Response (200 OK):</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Society enrolled successfully!"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"societyId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a-new-society-uuid"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"adminId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a-new-admin-user-uuid"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Error Response (409 Conflict - User already exists):</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Society enrolled successfully!"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"societyId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a-new-society-uuid"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"adminId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a-new-admin-user-uuid"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This is the API for the form your team will use to onboard a new society after a sales lead is converted.</p>
<h3 id='post-enrollment'><strong>POST</strong> <code>/enrollment</code></h3>
<ul>
<li><strong>Description:</strong> Registers a new society and creates the primary admin account. This endpoint should be protected and only accessible by your internal team.</li>
<li><strong>Authorization:</strong>  Internal Admin Token required.</li>
</ul>
<h3 id='request'>Request</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>societyName</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The name of the new society.</td>
</tr>
<tr>
<td style="text-align: left"><code>registrationNumber</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The society&#39;s official registration number.</td>
</tr>
<tr>
<td style="text-align: left"><code>address</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The full address of the society.</td>
</tr>
<tr>
<td style="text-align: left"><code>adminName</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The full name of the primary admin user.</td>
</tr>
<tr>
<td style="text-align: left"><code>adminEmail</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The email address for the admin user.</td>
</tr>
<tr>
<td style="text-align: left"><code>adminPhone</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The phone number for the admin user.</td>
</tr>
<tr>
<td style="text-align: left"><code>password</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> A secure password for the new admin account.</td>
</tr>
</tbody></table>
<h3 id='response-2'>Response</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>message</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">A confirmation that the society was created.</td>
</tr>
<tr>
<td style="text-align: left"><code>societyId</code></td>
<td style="text-align: left">UUID</td>
<td style="text-align: left">The unique ID of the newly created society.</td>
</tr>
<tr>
<td style="text-align: left"><code>adminId</code></td>
<td style="text-align: left">UUID</td>
<td style="text-align: left">The unique ID of the newly created admin user.</td>
</tr>
</tbody></table>

<h1 id='authentication'>Authentication</h1><h2 id='1-authentication'>1. Authentication</h2>
<blockquote>
<p>Request Body:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email@email.com"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user_password"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Admin"</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">Can</span><span class="w"> </span><span class="err">be</span><span class="w"> </span><span class="s2">"Admin"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Resident_Owner"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Resident_Tenant"</span><span class="p">,</span><span class="w"> </span><span class="err">or</span><span class="w"> </span><span class="s2">"Guard"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Successful Response (200 OK):</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a_long_encrypted_jwt_string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a_uuid_string"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fullName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rohan Sharma"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Admin"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"societyId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"society_uuid_string"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Error Response: Invalid Credentials (401 Unauthorized):</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid email or password."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Error Response: Role Mismatch (403 Forbidden):</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Access denied. You do not have permission to access this portal."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Error Response: Inactive Account (403 Forbidden):</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Your account has been deactivated. Please contact support."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Handles user registration, login, and session management.</p>
<h3 id='post-api-v1-auth-login'><strong>POST</strong> <code>api/v1/auth/login</code></h3>
<p>Logs in a user and returns a session token.</p>

<ul>
<li><strong>Description:</strong> A user provides their email and password to receive a JWT (JSON Web Token) for authenticating future requests.</li>
</ul>
<h3 id='request'>Request</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>email</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The user&#39;s registered email address.</td>
</tr>
<tr>
<td style="text-align: left"><code>password</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The user&#39;s password.</td>
</tr>
<tr>
<td style="text-align: left"><code>role</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The role the user is logging in as (e.g., <code>Admin</code>, <code>Guard</code>, <code>Resident_Owner</code>, <code>Resident_Tenant</code>).</td>
</tr>
</tbody></table>
<h3 id='response'>Response</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>token</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">An authentication JWT (JSON Web Token) for subsequent API requests.</td>
</tr>
<tr>
<td style="text-align: left"><code>user</code></td>
<td style="text-align: left">Object</td>
<td style="text-align: left">An object containing details of the logged-in user.</td>
</tr>
<tr>
<td style="text-align: left"><code>user.id</code></td>
<td style="text-align: left">UUID</td>
<td style="text-align: left">The unique identifier for the user.</td>
</tr>
<tr>
<td style="text-align: left"><code>user.fullName</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The full name of the user.</td>
</tr>
<tr>
<td style="text-align: left"><code>user.role</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The role assigned to the user (e.g., <code>Admin</code>).</td>
</tr>
<tr>
<td style="text-align: left"><code>user.societyId</code></td>
<td style="text-align: left">UUID</td>
<td style="text-align: left">The unique identifier for the society to which the user belongs.</td>
</tr>
</tbody></table>
<h2 id='2-get-current-logged-in-user-profile-auth'>2. Get Current Logged In User profile (<code>/auth</code>)</h2>
<blockquote>
<p>Successful Response (200 OK):</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a_uuid_string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fullName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rohan Sharma"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rohan@example.com"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Admin"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"societyId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"society_uuid_string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"flatId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Error Response (401 Unauthorized):</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Authentication token is missing or invalid."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Retrieves the profile of the currently logged-in user.</p>
<h3 id='get-auth-me'><strong>GET</strong> <code>/auth/me</code></h3>
<ul>
<li><strong>Description:</strong> Uses the JWT from the <code>Authorization</code> header to identify and return the user&#39;s details.</li>
<li><strong>Authorization:</strong> Bearer Token required.</li>
</ul>
<h3 id='request-headers'>Request Headers</h3>
<table><thead>
<tr>
<th style="text-align: left">Header</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>Authorization</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The JWT token, prefixed with &quot;Bearer &quot; (e.g., <code>Bearer &lt;token&gt;</code>).</td>
</tr>
</tbody></table>
<h3 id='response-2'>Response</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>id</code></td>
<td style="text-align: left">UUID</td>
<td style="text-align: left">The unique identifier for the user.</td>
</tr>
<tr>
<td style="text-align: left"><code>fullName</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The full name of the user.</td>
</tr>
<tr>
<td style="text-align: left"><code>email</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The user&#39;s registered email address.</td>
</tr>
<tr>
<td style="text-align: left"><code>role</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The role assigned to the user (e.g., <code>Admin</code>).</td>
</tr>
<tr>
<td style="text-align: left"><code>societyId</code></td>
<td style="text-align: left">UUID</td>
<td style="text-align: left">The unique identifier for the society to which the user belongs.</td>
</tr>
<tr>
<td style="text-align: left"><code>flatId</code></td>
<td style="text-align: left">UUID</td>
<td style="text-align: left">null</td>
</tr>
</tbody></table>

<h1 id='society-management'>Society Management</h1><h2 id='society-amp-people-mangement'>Society &amp; People Mangement</h2>
<p>This module handles the core entities of the application: the society itself, its physical structure (flats), and all the people associated with it.</p>

<p><strong>Authorization</strong>: All endpoints in this module require a Bearer Token in the Authorization header. The backend will use the user&#39;s id, role, and societyId from this token to authorize actions.</p>
<h2 id='1-get-society-details'>1. Get Society Details</h2>
<blockquote>
<p>Successful Response (200 OK):</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a-society-uuid"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Prestige Lakeside Habitation"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"registrationNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"KA-BNG-12345"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Whitefield Main Road"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bengaluru"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"pincode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"560066"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Error Response (404 Not Found):</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Society not found."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>This endpoint is a <code>GET</code> request and does not have a request body. Authorization is handled via headers.</p>
<h3 id='get-society'><strong>GET</strong> <code>/society</code></h3>
<ul>
<li><strong>Description:</strong> Retrieves the details of the society that the currently authenticated user belongs to. The backend uses the societyId from the user&#39;s token to fetch the correct record.</li>
<li><strong>Authorization:</strong> Bearer Token required (Any role: Admin, Resident, etc., can view their own society&#39;s details).</li>
</ul>
<h3 id='request-headers'>Request Headers</h3>
<table><thead>
<tr>
<th style="text-align: left">Header</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>Authorization</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The JWT token, prefixed with &quot;Bearer &quot; (e.g., <code>Bearer &lt;token&gt;</code>).</td>
</tr>
</tbody></table>
<h3 id='response'>Response</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>id</code></td>
<td style="text-align: left">UUID</td>
<td style="text-align: left">The unique identifier for the society.</td>
</tr>
<tr>
<td style="text-align: left"><code>name</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The official name of the society.</td>
</tr>
<tr>
<td style="text-align: left"><code>registrationNumber</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The society&#39;s official registration number.</td>
</tr>
<tr>
<td style="text-align: left"><code>address</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The street address of the society.</td>
</tr>
<tr>
<td style="text-align: left"><code>city</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The city where the society is located.</td>
</tr>
<tr>
<td style="text-align: left"><code>pincode</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The postal code for the society&#39;s address.</td>
</tr>
</tbody></table>
<h2 id='2-update-society-details'>2. Update Society Details</h2>
<blockquote>
<p>Request Body:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Prestige Lakeside Habitation (Updated)"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New Address, Whitefield, Bengaluru"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Successful Response (200 OK):</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Society details updated successfully."</span><span class="p">,</span><span class="w">
  </span><span class="nl">"society"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a-society-uuid"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Prestige Lakeside Habitation (Updated)"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New Address, Whitefield, Bengaluru"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Error Response (403 Forbidden):</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"You do not have permission to perform this action."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='put-society'><strong>PUT</strong> <code>/society</code></h3>
<ul>
<li><strong>Description:</strong> Allows an admin to update the core details of their society, such as its name or address.</li>
<li><strong>Authorization:</strong>  Bearer Token required (Admin role only).</li>
</ul>
<h3 id='request-headers-2'>Request Headers</h3>
<table><thead>
<tr>
<th style="text-align: left">Header</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>Authorization</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The JWT token of an <code>Admin</code> user, prefixed with &quot;Bearer &quot; (e.g., <code>Bearer &lt;token&gt;</code>).</td>
</tr>
</tbody></table>
<h3 id='request-body'>Request Body</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>name</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><em>Optional.</em> The updated name for the society.</td>
</tr>
<tr>
<td style="text-align: left"><code>address</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><em>Optional.</em> The updated full address for the society.</td>
</tr>
</tbody></table>
<h3 id='response-2'>Response</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>message</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">A confirmation that the details were updated.</td>
</tr>
<tr>
<td style="text-align: left"><code>society</code></td>
<td style="text-align: left">Object</td>
<td style="text-align: left">The updated society object.</td>
</tr>
<tr>
<td style="text-align: left"><code>society.id</code></td>
<td style="text-align: left">UUID</td>
<td style="text-align: left">The unique identifier of the society.</td>
</tr>
<tr>
<td style="text-align: left"><code>society.name</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The newly updated name of the society.</td>
</tr>
<tr>
<td style="text-align: left"><code>society.address</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The newly updated address of the society.</td>
</tr>
</tbody></table>
<h2 id='3-get-all-members'>3. Get All Members</h2>
<blockquote>
<p>Successful Response (200 OK):</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user_uuid_1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"flatNo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A-101"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Occupied"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"residentName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rohan Sharma"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Owner"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"contact"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9876543210"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user_uuid_2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"flatNo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"B-204"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Occupied"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"residentName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Anita Desai"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tenant"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"contact"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9123456789"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span><span class="w">
    </span><span class="nl">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalPages"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='get-members'><strong>GET</strong> <code>/members</code></h3>
<p>Retrieves a paginated list of all members in the society.</p>

<ul>
<li><strong>Description:</strong> Fetches a list of all users (residents, owners, etc.) for the admin&#39;s society. Supports searching and filtering.</li>
<li><strong>Authorization:</strong> Bearer Token required (Admin role).</li>
<li><strong>Query Parameters (Optional):</strong>

<ul>
<li><code>?search=Rohan</code>: Filters members by name, flat, or contact.</li>
<li><code>?role=Tenant</code>: Filters members by a specific role.</li>
<li><code>?page=1&amp;limit=10</code>: For pagination.</li>
</ul></li>
</ul>
<h3 id='request-headers-3'>Request Headers</h3>
<table><thead>
<tr>
<th style="text-align: left">Header</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>Authorization</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The JWT token of an <code>Admin</code> user, prefixed with &quot;Bearer &quot; (e.g., <code>Bearer &lt;token&gt;</code>).</td>
</tr>
</tbody></table>
<h3 id='response-3'>Response</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>data</code></td>
<td style="text-align: left">Array of objects</td>
<td style="text-align: left">An array of member objects.</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].id</code></td>
<td style="text-align: left">UUID</td>
<td style="text-align: left">The unique identifier of the member.</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].flatNo</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The flat number associated with the member.</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].status</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The occupancy status of the flat (e.g., <code>Occupied</code>).</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].residentName</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The full name of the resident.</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].role</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The role of the member (e.g., <code>Owner</code>, <code>Tenant</code>).</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].contact</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The contact phone number of the member.</td>
</tr>
<tr>
<td style="text-align: left"><code>pagination</code></td>
<td style="text-align: left">Object</td>
<td style="text-align: left">An object containing pagination details.</td>
</tr>
<tr>
<td style="text-align: left"><code>pagination.total</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">The total number of records matching the query.</td>
</tr>
<tr>
<td style="text-align: left"><code>pagination.page</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">The current page number.</td>
</tr>
<tr>
<td style="text-align: left"><code>pagination.limit</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">The number of items requested per page.</td>
</tr>
<tr>
<td style="text-align: left"><code>pagination.totalPages</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">The total number of pages available.</td>
</tr>
</tbody></table>
<h2 id='4-create-a-new-member'>4. Create a New Member</h2>
<blockquote>
<p>Request Body:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"fullName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New Member Name"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"phoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9998887776"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new.member@example.com"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Resident_Tenant"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"flatId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"flat_uuid_string_for_their_apartment"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Successful Response (201 Created):</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new_user_uuid"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Member created successfully."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Error Response (400 Bad Request):</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A user with this phone number already exists."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='post-members'><strong>POST</strong> <code>/members</code></h3>
<p>Creates a new member in the society.</p>

<ul>
<li><strong>Description:</strong> Adds a new resident, owner, or staff member to the database.</li>
<li><strong>Authorization:</strong> Bearer Token required (Admin role).</li>
</ul>
<h3 id='request-headers-4'>Request Headers</h3>
<table><thead>
<tr>
<th style="text-align: left">Header</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>Authorization</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The JWT token of an <code>Admin</code> user, prefixed with &quot;Bearer &quot; (e.g., <code>Bearer &lt;token&gt;</code>).</td>
</tr>
</tbody></table>
<h3 id='request-body-2'>Request Body</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>fullName</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The full name of the new member.</td>
</tr>
<tr>
<td style="text-align: left"><code>phoneNumber</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The contact phone number for the new member.</td>
</tr>
<tr>
<td style="text-align: left"><code>email</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The email address for the new member. Must be unique.</td>
</tr>
<tr>
<td style="text-align: left"><code>role</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The role to assign to the new member (e.g., <code>Resident Tenant</code>).</td>
</tr>
<tr>
<td style="text-align: left"><code>flatId</code></td>
<td style="text-align: left">UUID</td>
<td style="text-align: left"><strong>Required.</strong> The unique identifier of the flat for the new member.</td>
</tr>
</tbody></table>
<h3 id='response-4'>Response</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>id</code></td>
<td style="text-align: left">UUID</td>
<td style="text-align: left">The unique identifier for the newly created member.</td>
</tr>
<tr>
<td style="text-align: left"><code>message</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">A success message indicating that new user has created</td>
</tr>
</tbody></table>

<h1 id='gate-amp-visitor-management'>Gate &amp; Visitor Management</h1>

<p>This module handles all operations related to society security, including managing staff, tracking attendance, and logging visitor entries and exits.</p>

<p><strong>Authorization</strong>: Endpoints in this module will require specific roles (Admin, Guard, or Resident), which will be checked via the Bearer Token.</p>

<h2 id='1-list-all-staff'>1. List All Staff</h2>

<p>Endpoints for managing society staff like guards, housekeepers, and electricians.</p>

<blockquote>
<p>Successful Response (200 OK):</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"staff_uuid_1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ramesh Kumar"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"approvedBy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Support - Ops 1.5A"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"createdBy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"System (Society Admin)"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"contact"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9811122233"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Security"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"permanentAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Village Rampur, UP"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"companyId: "</span><span class="err">GTY-SC</span><span class="mi">-001</span><span class="s2">",
      "</span><span class="err">status</span><span class="s2">": "</span><span class="err">Current</span><span class="s2">"
    }
  ]
}
</span></code></pre></div><h3 id='get-staff'><strong>GET</strong> <code>/staff</code></h3>
<ul>
<li><strong>Description:</strong> Retrieves a list of all staff members. This is used to populate the &quot;Manage Staff/Security&quot; page.</li>
<li><strong>Authorization:</strong>  Bearer Token required (Admin role only).</li>
<li><strong>Query Parameters (Optional):</strong>

<ul>
<li><code>?status=Current</code>: Filters by Current, Old, or Blacklisted.</li>
<li><code>?search=Ramesh</code>: Filters by name or contact number.</li>
<li><code>?page=1&amp;limit=10</code>: For pagination.</li>
</ul></li>
</ul>
<h3 id='request-headers'>Request Headers</h3>
<table><thead>
<tr>
<th style="text-align: left">Header</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>Authorization</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The JWT token of an <code>Admin</code> user, prefixed with &quot;Bearer &quot; (e.g., <code>Bearer &lt;token&gt;</code>).</td>
</tr>
</tbody></table>
<h3 id='response'>Response</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>data</code></td>
<td style="text-align: left">Array of objects</td>
<td style="text-align: left">An array of staff member objects.</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].id</code></td>
<td style="text-align: left">UUID</td>
<td style="text-align: left">The unique identifier for the staff member.</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].name</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The full name of the staff member.</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].approvedBy</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">Details of the user/system that approved the staff member.</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].createdBy</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">Details of the user/system that created the record.</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].contact</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The contact phone number of the staff member.</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].type</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The type or role of the staff (e.g., <code>Security</code>).</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].permanentAddress</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The permanent address of the staff member.</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].companyId</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">An identifier for the company the staff member is associated with.</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].status</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The current employment status (e.g., <code>Current</code>).</td>
</tr>
<tr>
<td style="text-align: left"><code>pagination</code></td>
<td style="text-align: left">Object</td>
<td style="text-align: left">An object containing pagination details.</td>
</tr>
<tr>
<td style="text-align: left"><code>pagination.total</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">The total number of records matching the query.</td>
</tr>
<tr>
<td style="text-align: left"><code>pagination.page</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">The current page number.</td>
</tr>
<tr>
<td style="text-align: left"><code>pagination.limit</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">The number of items requested per page.</td>
</tr>
<tr>
<td style="text-align: left"><code>pagination.totalPages</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">The total number of pages available.</td>
</tr>
</tbody></table>
<h2 id='2-add-new-staff'>2. Add New Staff</h2>
<blockquote>
<p>Request Body:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"avatar"</span><span class="p">:</span><span class="w"> </span><span class="s2">"file_path"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fullName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Suresh Yadav"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"phoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9786543210"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"permanentAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New Minal Residency"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"staffType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Security"</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="s2">"maid"</span><span class="p">,</span><span class="w"> </span><span class="s2">"driver"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Electrician"</span><span class="w">
  </span><span class="nl">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default_staff_password"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"companyName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTY-1234"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"idType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Aadhar"</span><span class="p">,</span><span class="w">    </span><span class="err">//</span><span class="w"> </span><span class="s2">"Pan"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Voter Id"</span><span class="w">
  </span><span class="nl">"idFile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"file_path"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<blockquote>
<p>Successful Response (201 Created):</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Staff member added successfully."</span><span class="p">,</span><span class="w">
  </span><span class="nl">"staffId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new_staff_uuid"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='post-staff'><strong>POST</strong> <code>/staff</code></h3>
<ul>
<li><strong>Description:</strong> Creates a new staff member in the society.</li>
<li><strong>Authorization:</strong>  Bearer Token required (Admin role only).</li>
</ul>
<h3 id='request-body'>Request Body</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>avatar</code></td>
<td style="text-align: left">File</td>
<td style="text-align: left"><strong>Required.</strong> The profile picture of the staff member.</td>
</tr>
<tr>
<td style="text-align: left"><code>fullName</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The full name of the new staff member.</td>
</tr>
<tr>
<td style="text-align: left"><code>phoneNumber</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The contact phone number for the new staff member.</td>
</tr>
<tr>
<td style="text-align: left"><code>permanentAddress</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The permanent address of the new staff member.</td>
</tr>
<tr>
<td style="text-align: left"><code>staffType</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The type of staff (e.g., <code>Security</code>, <code>Maid</code>, <code>Driver</code>).</td>
</tr>
<tr>
<td style="text-align: left"><code>password</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> A password for the staff member&#39;s account.</td>
</tr>
<tr>
<td style="text-align: left"><code>companyName</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The name of the company the staff is associated with.</td>
</tr>
<tr>
<td style="text-align: left"><code>idType</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The type of identification document (e.g., <code>Aadhar</code>, <code>Pan</code>).</td>
</tr>
<tr>
<td style="text-align: left"><code>idFile</code></td>
<td style="text-align: left">File</td>
<td style="text-align: left"><strong>Required.</strong> The scanned copy of the identification document.</td>
</tr>
</tbody></table>
<h3 id='response-2'>Response</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>message</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">A confirmation message indicating success.</td>
</tr>
<tr>
<td style="text-align: left"><code>staffId</code></td>
<td style="text-align: left">UUID</td>
<td style="text-align: left">The unique identifier for the newly created staff member.</td>
</tr>
</tbody></table>
<h2 id='3-get-visitor-log'>3. Get Visitor Log</h2>
<blockquote>
<p>Successful Response (200 OK):</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"visitor_log_uuid_1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"flatNo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"B-015"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"visitorName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Aditya Mishra"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"visitorPhone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9880771124"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"visitorType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cab (Ola)"</span><span class="p">,</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="s2">"Guest"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Delivery"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Maid"</span><span class="w">
      </span><span class="nl">"entryArea"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Main Gate"</span><span class="p">,</span><span class="w">   </span><span class="err">//</span><span class="w"> </span><span class="s2">"Side Gate"</span><span class="w">
      </span><span class="nl">"approvedBy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Guard"</span><span class="p">,</span><span class="w">     </span><span class="err">//</span><span class="w"> </span><span class="s2">"Resident"</span><span class="w">
      </span><span class="nl">"expectedInTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-10-04T14:30:00Z"</span><span class="w">
      </span><span class="nl">"expectedOutTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-10-04T14:30:00Z"</span><span class="w">
      </span><span class="nl">"creationMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Guard"</span><span class="w">  </span><span class="err">//</span><span class="w"> </span><span class="s2">"App"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Resident"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<p>Endpoints for managing the log of all visitors.</p>

<h3 id='get-visitors'><strong>GET</strong> <code>/visitors</code></h3>

<ul>
<li><strong>Description:</strong> Retrieves the visitor log, used to populate the &quot;Visitor Records&quot; page.</li>
<li><strong>Authorization:</strong>  arer Token required (Admin or Guard role).</li>
</ul>

<h3 id='request-headers-2'>Request Headers</h3>

<table><thead>
<tr>
<th style="text-align: left">Header</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>Authorization</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The JWT token of an <code>Admin</code> or <code>Guard</code> user, prefixed with &quot;Bearer &quot; (e.g., <code>Bearer &lt;token&gt;</code>).</td>
</tr>
</tbody></table>

<h3 id='query-parameters'>Query Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>status</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><em>Optional.</em> Filters visitors by status (e.g., <code>Current</code>, <code>Past</code>, <code>Upcoming</code>, <code>Denied</code>).</td>
</tr>
<tr>
<td style="text-align: left"><code>date</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><em>Optional.</em> Filters visitors for a specific date in <code>YYYY-MM-DD</code> format.</td>
</tr>
<tr>
<td style="text-align: left"><code>gateId</code></td>
<td style="text-align: left">UUID</td>
<td style="text-align: left"><em>Optional.</em> Filters visitors who entered through a specific gate.</td>
</tr>
<tr>
<td style="text-align: left"><code>search</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><em>Optional.</em> Searches by visitor name, phone number, or flat number.</td>
</tr>
<tr>
<td style="text-align: left"><code>page</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left"><em>Optional.</em> The page number for pagination. Defaults to <code>1</code>.</td>
</tr>
<tr>
<td style="text-align: left"><code>limit</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left"><em>Optional.</em> The number of items per page. Defaults to <code>10</code>.</td>
</tr>
</tbody></table>

<h3 id='response-3'>Response</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>data</code></td>
<td style="text-align: left">Array of objects</td>
<td style="text-align: left">An array of visitor log objects.</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].id</code></td>
<td style="text-align: left">UUID</td>
<td style="text-align: left">The unique identifier for the visitor log entry.</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].flatNo</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The flat number the visitor is associated with.</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].visitorName</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The full name of the visitor.</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].visitorPhone</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The contact phone number of the visitor.</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].visitorType</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The type of visitor (e.g., <code>Cab (Ola)</code>, <code>Guest</code>, <code>Delivery</code>).</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].entryArea</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The gate or area of entry (e.g., <code>Main Gate</code>).</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].approvedBy</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The role that approved the visitor&#39;s entry (e.g., <code>Guard</code>, <code>Resident</code>).</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].expectedInTime</code></td>
<td style="text-align: left">DateTime</td>
<td style="text-align: left">The expected entry time for the visitor.</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].expectedOutTime</code></td>
<td style="text-align: left">DateTime</td>
<td style="text-align: left">The expected exit time for the visitor.</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].creationMode</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">How the visitor entry was created (e.g., <code>Guard</code>, <code>App</code>).</td>
</tr>
<tr>
<td style="text-align: left"><code>pagination</code></td>
<td style="text-align: left">Object</td>
<td style="text-align: left">An object containing pagination details.</td>
</tr>
<tr>
<td style="text-align: left"><code>pagination.total</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">The total number of records matching the query.</td>
</tr>
<tr>
<td style="text-align: left"><code>pagination.page</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">The current page number.</td>
</tr>
<tr>
<td style="text-align: left"><code>pagination.limit</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">The number of items requested per page.</td>
</tr>
<tr>
<td style="text-align: left"><code>pagination.totalPages</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">The total number of pages available.</td>
</tr>
</tbody></table>

<h2 id='4-pre-approve-a-visitor-resident-action'>4. Pre-Approve a Visitor (Resident Action)</h2><h3 id='post-visitors-pre-approve'>POST <code>/visitors/pre-approve</code></h3>
<blockquote>
<p>Request Body:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"visitorName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rahul Sharma"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"visitorType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Guest"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"expectedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-09-14T00:00:00Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Successful Response (201 Created):</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visitor pre-approved successfully."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<ul>
<li><strong>Description:</strong> Allows a resident to add an expected visitor to the log, creating an &quot;Upcoming&quot; entry.</li>
<li><strong>Authorization:</strong>  Bearer Token required (Resident role).</li>
</ul>
<h3 id='request-headers-3'>Request Headers</h3>
<table><thead>
<tr>
<th style="text-align: left">Header</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>Authorization</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The JWT token of a <code>Resident</code> user, prefixed with &quot;Bearer &quot; (e.g., <code>Bearer &lt;token&gt;</code>).</td>
</tr>
</tbody></table>
<h3 id='request-body-2'>Request Body</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>visitorName</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The full name of the expected visitor.</td>
</tr>
<tr>
<td style="text-align: left"><code>visitorType</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The type of visitor (e.g., <code>Guest</code>, <code>Delivery</code>).</td>
</tr>
<tr>
<td style="text-align: left"><code>expectedAt</code></td>
<td style="text-align: left">DateTime</td>
<td style="text-align: left"><strong>Required.</strong> The expected date and time of arrival in ISO format.</td>
</tr>
</tbody></table>
<h3 id='response-4'>Response</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>message</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">A confirmation that the visitor was successfully pre-approved.</td>
</tr>
</tbody></table>
<h2 id='5-mark-visitor-exit-guard-action'>5. Mark Visitor Exit (Guard Action)</h2>

<blockquote>
<p>Successful Response (201 Created):</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Visitor exit marked successfully."</span><span class="p">,</span><span class="w">
  </span><span class="nl">"visitor"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d8f8f8f8-4c4c-4c4c-4c4c-121212121212"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Past"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"actualOutTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-10-07T04:10:13Z"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='put-visitors-id-exit'>PUT <code>/visitors/:id/exit</code></h3>
<ul>
<li><strong>Description:</strong> Allows a guard to mark a visitor as having left the society.</li>
<li><strong>Authorization:</strong> Bearer Token required (Guard role).</li>
</ul>
<h3 id='request-headers-4'>Request Headers</h3>
<table><thead>
<tr>
<th style="text-align: left">Header</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>Authorization</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The JWT token of a <code>Guard</code> user, prefixed with &quot;Bearer &quot; (e.g., <code>Bearer &lt;token&gt;</code>).</td>
</tr>
</tbody></table>
<h3 id='path-parameters'>Path Parameters</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>id</code></td>
<td style="text-align: left">UUID</td>
<td style="text-align: left"><strong>Required.</strong> The ID of the visitor log entry to update.</td>
</tr>
</tbody></table>
<h3 id='response-5'>Response</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>message</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">A confirmation that the visitor&#39;s exit was successfully marked.</td>
</tr>
<tr>
<td style="text-align: left"><code>visitor</code></td>
<td style="text-align: left">Object</td>
<td style="text-align: left">The updated visitor log object.</td>
</tr>
<tr>
<td style="text-align: left"><code>visitor.id</code></td>
<td style="text-align: left">UUID</td>
<td style="text-align: left">The unique identifier for the visitor entry.</td>
</tr>
<tr>
<td style="text-align: left"><code>visitor.status</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The updated status, which will now be &quot;Past&quot;.</td>
</tr>
<tr>
<td style="text-align: left"><code>visitor.actualOutTime</code></td>
<td style="text-align: left">DateTime</td>
<td style="text-align: left">The timestamp recorded when the visitor exited.</td>
</tr>
</tbody></table>
<h2 id='6-get-parcel-log'>6. Get Parcel Log</h2>
<blockquote>
<p>Successful Response (201 Created):</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a1b2c3d4-e5f6-7890-1234-567890abcdef"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"flatNo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C-102"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Amazon"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"receivedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-10-06T11:05:14Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"At Gate"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b2c3d4e5-f6a7-8901-2345-67890abcdef1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"flatNo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A-401"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BlueDart"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"receivedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-10-06T14:22:05Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"At Gate"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalPages"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<p>Endpoint for managing parcels received at the gate.</p>

<h3 id='get-parcels'>GET <code>/parcels</code></h3>

<ul>
<li><strong>Description:</strong> Retrieves a list of all parcels. This is for the &quot;Parcels&quot; tab on the Visitor Records page.</li>
<li><strong>Authorization:</strong> Bearer Token required (Admin or Guard role).<br></li>
</ul>

<h3 id='request-headers-5'>Request Headers</h3>

<table><thead>
<tr>
<th style="text-align: left">Header</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>Authorization</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The JWT token of an <code>Admin</code> or <code>Guard</code> user, prefixed with &quot;Bearer &quot; (e.g., <code>Bearer &lt;token&gt;</code>).</td>
</tr>
</tbody></table>

<h3 id='query-parameters-2'>Query Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>status</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><em>Optional.</em> Filters parcels by status (e.g., <code>At Gate</code>, <code>Collected</code>).</td>
</tr>
<tr>
<td style="text-align: left"><code>search</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><em>Optional.</em> Searches by flat number or provider name.</td>
</tr>
<tr>
<td style="text-align: left"><code>date</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><em>Optional.</em> Filters parcels received on a specific date in <code>YYYY-MM-DD</code> format.</td>
</tr>
<tr>
<td style="text-align: left"><code>gateId</code></td>
<td style="text-align: left">UUID</td>
<td style="text-align: left"><em>Optional.</em> Filters parcels received at a specific gate.</td>
</tr>
<tr>
<td style="text-align: left"><code>page</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left"><em>Optional.</em> The page number for pagination. Defaults to <code>1</code>.</td>
</tr>
<tr>
<td style="text-align: left"><code>limit</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left"><em>Optional.</em> The number of items per page. Defaults to <code>10</code>.</td>
</tr>
</tbody></table>

<h3 id='response-6'>Response</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>data</code></td>
<td style="text-align: left">Array of objects</td>
<td style="text-align: left">An array of parcel objects.</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].id</code></td>
<td style="text-align: left">UUID</td>
<td style="text-align: left">The unique identifier for the parcel.</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].flatNo</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The flat number the parcel is addressed to.</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].provider</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The delivery service or provider (e.g., <code>Amazon</code>).</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].receivedAt</code></td>
<td style="text-align: left">DateTime</td>
<td style="text-align: left">The timestamp when the parcel was received.</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].status</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The current status of the parcel (e.g., <code>At Gate</code>).</td>
</tr>
<tr>
<td style="text-align: left"><code>pagination</code></td>
<td style="text-align: left">Object</td>
<td style="text-align: left">An object containing pagination details.</td>
</tr>
<tr>
<td style="text-align: left"><code>pagination.total</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">The total number of records matching the query.</td>
</tr>
<tr>
<td style="text-align: left"><code>pagination.page</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">The current page number.</td>
</tr>
<tr>
<td style="text-align: left"><code>pagination.limit</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">The number of items requested per page.</td>
</tr>
<tr>
<td style="text-align: left"><code>pagination.totalPages</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">The total number of pages available.</td>
</tr>
</tbody></table>

<h2 id='7-get-attendance-summary'>7. Get Attendance Summary</h2>

<blockquote>
<p>Successful Response (201 Created):</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"staffId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a1b2c3d4-e5f6-7890-1234-567890abcdef"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ramesh Kumar"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Security"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"presents"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
      </span><span class="nl">"absents"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
      </span><span class="nl">"totalDays"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"staffId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b2c3d4e5-f6a7-8901-2345-67890abcdef1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sunita Devi"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Housekeeping"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"presents"</span><span class="p">:</span><span class="w"> </span><span class="mi">28</span><span class="p">,</span><span class="w">
      </span><span class="nl">"absents"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nl">"totalDays"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
    </span><span class="nl">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nl">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nl">"totalPages"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<p>Endpoint for managing staff and guard attendance.</p>

<h3 id='get-attendance-summary'>GET <code>/attendance/summary</code></h3>

<ul>
<li><strong>Description:</strong> Retrieves the attendance summary for all staff for a given month. This powers the main &quot;Attendance&quot; page.</li>
<li><strong>Authorization:</strong> Bearer Token required (Admin role only).</li>
</ul>

<h3 id='request-headers-6'>Request Headers</h3>

<table><thead>
<tr>
<th style="text-align: left">Header</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>Authorization</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The JWT token of an <code>Admin</code> user, prefixed with &quot;Bearer &quot; (e.g., <code>Bearer &lt;token&gt;</code>).</td>
</tr>
</tbody></table>

<h3 id='query-parameters-3'>Query Parameters</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>month</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The month to fetch the summary for, in <code>YYYY-MM</code> format (e.g., <code>2025-10</code>).</td>
</tr>
<tr>
<td style="text-align: left"><code>page</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left"><em>Optional.</em> The page number for pagination. Defaults to <code>1</code>.</td>
</tr>
<tr>
<td style="text-align: left"><code>limit</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left"><em>Optional.</em> The number of items per page. Defaults to <code>10</code>.</td>
</tr>
</tbody></table>

<h3 id='response-7'>Response</h3>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>data</code></td>
<td style="text-align: left">Array of objects</td>
<td style="text-align: left">An array of staff attendance summary objects.</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].staffId</code></td>
<td style="text-align: left">UUID</td>
<td style="text-align: left">The unique identifier for the staff member.</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].name</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The full name of the staff member.</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].type</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The role or type of the staff (e.g., <code>Security</code>).</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].presents</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">The total number of days the staff member was present in the given month.</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].absents</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">The total number of days the staff member was absent in the given month.</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].totalDays</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">The total number of days in the given month.</td>
</tr>
<tr>
<td style="text-align: left"><code>pagination</code></td>
<td style="text-align: left">Object</td>
<td style="text-align: left">An object containing pagination details.</td>
</tr>
<tr>
<td style="text-align: left"><code>pagination.total</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">The total number of records matching the query.</td>
</tr>
<tr>
<td style="text-align: left"><code>pagination.page</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">The current page number.</td>
</tr>
<tr>
<td style="text-align: left"><code>pagination.limit</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">The number of items requested per page.</td>
</tr>
<tr>
<td style="text-align: left"><code>pagination.totalPages</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">The total number of pages available.</td>
</tr>
</tbody></table>

<h2 id='8-mark-attendance'>8. Mark Attendance</h2>

<blockquote>
<p>Request Body:</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"staffId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a1b2c3d4-e5f6-7890-1234-567890abcdef"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-10-07"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Present"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<blockquote>
<p>Successful Response (201 Created):</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Attendance marked successfully."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<blockquote>
<p>Error Response (403 Forbidden - Guard trying to mark past date):</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"You can only mark attendance for the current day."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='post-attendance'>POST <code>/attendance</code></h3>
<ul>
<li><strong>Description:</strong> Marks the attendance for a specific staff member on a specific day. Corresponds to the &quot;Mark Today&#39;s Attendance&quot; action.</li>
<li><strong>Authorization:</strong> Bearer Token required (Admin or Guard role).</li>
</ul>

<p>Backend Logic:</p>

<p>If the user&#39;s role is Guard, the date in the request body must be the current date. The API will reject requests for past or future dates from a Guard.</p>

<p>If the user&#39;s role is Admin, they can use this endpoint for the current day. To modify past records, they must use the PUT /attendance endpoint.</p>
<h3 id='request-body-3'>Request Body</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>staffId</code></td>
<td style="text-align: left">UUID</td>
<td style="text-align: left"><strong>Required.</strong> The unique identifier of the staff member.</td>
</tr>
<tr>
<td style="text-align: left"><code>date</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The date for attendance in <code>YYYY-MM-DD</code> format.</td>
</tr>
<tr>
<td style="text-align: left"><code>status</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The attendance status (e.g., <code>Present</code>, <code>Absent</code>).</td>
</tr>
</tbody></table>
<h3 id='response-8'>Response</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>message</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">A confirmation that attendance was marked.</td>
</tr>
</tbody></table>
<h2 id='9-update-past-attendance-admin-only'>9. Update Past Attendance (Admin Only)</h2>
<blockquote>
<p>Request Body:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"staffId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"staff_uuid_1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-10-03"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"On Leave"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"remark"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Approved leave application received."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<blockquote>
<p>Successful Response (201 Created):</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Attendance record updated successfully."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='put-attendance'>PUT <code>/attendance</code></h3>
<ul>
<li><strong>Description:</strong> Updates the status of a specific, existing attendance record. This is the admin-only action to correct a missed or incorrect entry from a previous day.</li>
<li><strong>Authorization:</strong> Bearer Token required (Admin role only).</li>
</ul>
<h3 id='request-body-4'>Request Body</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>status</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The new attendance status (e.g., <code>On Leave</code>, <code>Present</code>).</td>
</tr>
<tr>
<td style="text-align: left"><code>staffId</code></td>
<td style="text-align: left">UUID</td>
<td style="text-align: left"><strong>Required.</strong> The ID of the staff member whose record is being updated.</td>
</tr>
<tr>
<td style="text-align: left"><code>date</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The date of the attendance record to update in <code>YYYY-MM-DD</code> format.</td>
</tr>
<tr>
<td style="text-align: left"><code>remark</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> A remark or reason for the update.</td>
</tr>
</tbody></table>
<h3 id='response-9'>Response</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>message</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">A confirmation that the record was updated successfully.</td>
</tr>
</tbody></table>
<h2 id='10-generate-attendance-report'>10. Generate Attendance Report</h2><h3 id='get-staff-staffid-attendance-report'>GET <code>/staff/:staffId/attendance/report</code></h3>
<ul>
<li><strong>Description:</strong> Generates a downloadable attendance report (e.g., PDF or CSV) for a specific staff member over a date range.</li>
<li><strong>Authorization:</strong> Bearer Token required (Admin role only).</li>
</ul>
<h3 id='path-parameters-2'>Path Parameters</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>staffId</code></td>
<td style="text-align: left">UUID</td>
<td style="text-align: left"><strong>Required.</strong> The ID of the staff member.</td>
</tr>
</tbody></table>
<h3 id='query-parameters-4'>Query Parameters</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>startDate</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The start date for the report in <code>YYYY-MM-DD</code> format.</td>
</tr>
<tr>
<td style="text-align: left"><code>endDate</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The end date for the report in <code>YYYY-MM-DD</code> format.</td>
</tr>
</tbody></table>
<h3 id='successful-response-200-ok'>Successful Response (200 OK)</h3>
<p>The response body contains the raw file data for the generated report.</p>

<ul>
<li><strong>Content-Type</strong>: <code>application/pdf</code> or <code>text/csv</code></li>
<li><strong>Body</strong>: The binary data of the requested report file, which should trigger a download in the browser.</li>
</ul>

<h1 id='flats-amp-resident-management'>Flats &amp; Resident Management</h1>
<p>This module handles the core structure of the society, including its physical units (flats) and the residents who occupy them.</p>

<p><strong>Authorization</strong>: All endpoints in this module require a Bearer Token with an Admin role.</p>
<h2 id='1-list-all-flats'>1. List All Flats</h2>
<blockquote>
<p>Successful Response (200 OK):</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"flat_uuid_1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buildingWing"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"flatNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"101"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Residential"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"occupancyStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Occupied"</span><span class="w"> 
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"flat_uuid_2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buildingWing"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"flatNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"102"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Residential"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"occupancyStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Vacant"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='get-flats'><strong>GET</strong> <code>/flats</code></h3>
<ul>
<li><strong>Description:</strong> Retrieves a paginated list of all flats in the society.</li>
<li><strong>Authorization:</strong>  Bearer Token required (Admin role only).</li>
</ul>
<h3 id='query-parameters'>Query Parameters</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>search</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><em>Optional.</em> Searches by building wing or flat number.</td>
</tr>
<tr>
<td style="text-align: left"><code>page</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left"><em>Optional.</em> The page number for pagination. Defaults to <code>1</code>.</td>
</tr>
<tr>
<td style="text-align: left"><code>limit</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left"><em>Optional.</em> The number of items per page. Defaults to <code>10</code>.</td>
</tr>
</tbody></table>
<h3 id='response'>Response</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>data</code></td>
<td style="text-align: left">Array of objects</td>
<td style="text-align: left">An array of flat objects.</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].id</code></td>
<td style="text-align: left">UUID</td>
<td style="text-align: left">The unique identifier for the flat.</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].buildingWing</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The building or wing identifier (e.g., <code>A</code>).</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].flatNumber</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The specific number of the flat (e.g., <code>101</code>).</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].type</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The type of the flat (e.g., <code>Residential</code>).</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].occupancyStatus</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The current occupancy status of the flat (e.g., <code>Occupied</code>, <code>Vacant</code>).</td>
</tr>
<tr>
<td style="text-align: left"><code>pagination</code></td>
<td style="text-align: left">Object</td>
<td style="text-align: left">An object containing pagination details.</td>
</tr>
<tr>
<td style="text-align: left"><code>pagination.total</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">The total number of records matching the query.</td>
</tr>
<tr>
<td style="text-align: left"><code>pagination.page</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">The current page number.</td>
</tr>
<tr>
<td style="text-align: left"><code>pagination.limit</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">The number of items requested per page.</td>
</tr>
<tr>
<td style="text-align: left"><code>pagination.totalPages</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">The total number of pages available.</td>
</tr>
</tbody></table>
<h2 id='2-add-a-new-flat'>2. Add a New Flat</h2>
<blockquote>
<p>Request Body:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"buildingWing"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"flatNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"405"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Residential"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<blockquote>
<p>Successful Response (201 Created):</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Flat created successfully."</span><span class="p">,</span><span class="w">
  </span><span class="nl">"flatId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new_flat_uuid"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='post-flats'><strong>POST</strong> <code>/flats</code></h3>
<ul>
<li><strong>Description:</strong> Creates a new flat record in the society.</li>
</ul>
<h3 id='request-body'>Request Body</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>buildingWing</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The building or wing identifier for the new flat (e.g., <code>C</code>).</td>
</tr>
<tr>
<td style="text-align: left"><code>flatNumber</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The number for the new flat (e.g., <code>405</code>).</td>
</tr>
<tr>
<td style="text-align: left"><code>type</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The type of the flat (e.g., <code>Residential</code>).</td>
</tr>
</tbody></table>
<h3 id='response-2'>Response</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>message</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">A confirmation that the flat was created successfully.</td>
</tr>
<tr>
<td style="text-align: left"><code>flatId</code></td>
<td style="text-align: left">UUID</td>
<td style="text-align: left">The unique identifier for the newly created flat.</td>
</tr>
</tbody></table>
<h2 id='3-list-all-rent-agreements'>3. List All Rent Agreements</h2>
<blockquote>
<p>Successful Response (201 Created):</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
 </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ra_uuid_1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"apartment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"B/2-Tamsa"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"uploadedBy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Aman"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tenant"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"leaseStartDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-07-01"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"leaseEndDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-07-31"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Expired"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"rentAgreements"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w"> </span><span class="nl">"fileName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"File-1"</span><span class="p">,</span><span class="w"> </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/path/to/file1.pdf"</span><span class="w"> </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ra_uuid_2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"apartment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"65(P)-02"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"uploadedBy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ACQWA"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tenant"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"leaseStartDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-03-12"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"leaseEndDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2027-03-31"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Uploaded"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"rentAgreements"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w"> </span><span class="nl">"fileName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"File-1"</span><span class="p">,</span><span class="w"> </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/path/to/file2.pdf"</span><span class="w"> </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='get-rent-agreements'><strong>GET</strong> <code>/rent-agreements</code></h3>
<ul>
<li><strong>Description:</strong> Retrieves a paginated list of all rent agreements in the society. This powers the main &quot;Rent Agreements&quot; table.</li>
</ul>
<h3 id='query-parameters-2'>Query Parameters</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>search</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><em>Optional.</em> Searches by apartment (flat number) or the uploader&#39;s name.</td>
</tr>
<tr>
<td style="text-align: left"><code>status</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><em>Optional.</em> Filters by status (e.g., <code>Uploaded</code>, <code>Expired</code>, <code>Not Uploaded</code>).</td>
</tr>
<tr>
<td style="text-align: left"><code>startDate</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><em>Optional.</em> Filters for agreements with a lease start date on or after this date.</td>
</tr>
<tr>
<td style="text-align: left"><code>endDate</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><em>Optional.</em> Filters for agreements with a lease end date on or before this date.</td>
</tr>
<tr>
<td style="text-align: left"><code>page</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left"><em>Optional.</em> The page number for pagination. Defaults to <code>1</code>.</td>
</tr>
<tr>
<td style="text-align: left"><code>limit</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left"><em>Optional.</em> The number of items per page. Defaults to <code>10</code>.</td>
</tr>
</tbody></table>
<h3 id='response-3'>Response</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>data</code></td>
<td style="text-align: left">Array of objects</td>
<td style="text-align: left">An array of rent agreement objects.</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].id</code></td>
<td style="text-align: left">UUID</td>
<td style="text-align: left">The unique identifier for the rent agreement record.</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].apartment</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The apartment or flat number associated with the agreement.</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].uploadedBy</code></td>
<td style="text-align: left">Object</td>
<td style="text-align: left">An object containing details of the user who uploaded the agreement.</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].uploadedBy.name</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The name of the uploader.</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].uploadedBy.role</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The role of the uploader (e.g., <code>Tenant</code>).</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].leaseStartDate</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The start date of the lease in <code>YYYY-MM-DD</code> format.</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].leaseEndDate</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The end date of the lease in <code>YYYY-MM-DD</code> format.</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].status</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The current status of the agreement (e.g., <code>Expired</code>, <code>Uploaded</code>).</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].rentAgreements</code></td>
<td style="text-align: left">Array of objects</td>
<td style="text-align: left">An array of files associated with the rent agreement.</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].rentAgreements[].fileName</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The name of the uploaded file.</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].rentAgreements[].url</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The URL to access the uploaded file.</td>
</tr>
<tr>
<td style="text-align: left"><code>pagination</code></td>
<td style="text-align: left">Object</td>
<td style="text-align: left">An object containing pagination details.</td>
</tr>
<tr>
<td style="text-align: left"><code>pagination.total</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">The total number of records matching the query.</td>
</tr>
<tr>
<td style="text-align: left"><code>pagination.page</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">The current page number.</td>
</tr>
<tr>
<td style="text-align: left"><code>pagination.limit</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">The number of items requested per page.</td>
</tr>
<tr>
<td style="text-align: left"><code>pagination.totalPages</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">The total number of pages available.</td>
</tr>
</tbody></table>
<h2 id='4-add-a-new-rent-agreement'>4. Add a New Rent Agreement</h2>
<blockquote>
<p>Request Body:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">

  </span><span class="nl">"flatId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"flat_uuid_string"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tenantUserId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user_uuid_of_tenant"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"leaseStartDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-11-01"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"leaseEndDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2026-10-31"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"documentUrls"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w"> 
      </span><span class="nl">"fileName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Agreement_Nov25.pdf"</span><span class="p">,</span><span class="w"> 
      </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[https://storage.url/agreement.pdf](https://storage.url/agreement.pdf)"</span><span class="w"> 
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<blockquote>
<p>Successful Response (201 Created):</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rent agreement created successfully."</span><span class="p">,</span><span class="w">
  </span><span class="nl">"agreementId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new_agreement_uuid"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='post-rent-agreements'><strong>POST</strong> <code>/rent-agreements</code></h3>
<ul>
<li><strong>Description:</strong> Creates a new rent agreement record for a tenant and a flat.</li>
</ul>
<h3 id='request-body-2'>Request Body</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>flatId</code></td>
<td style="text-align: left">UUID</td>
<td style="text-align: left"><strong>Required.</strong> The unique identifier for the flat.</td>
</tr>
<tr>
<td style="text-align: left"><code>tenantUserId</code></td>
<td style="text-align: left">UUID</td>
<td style="text-align: left"><strong>Required.</strong> The unique identifier of the tenant user.</td>
</tr>
<tr>
<td style="text-align: left"><code>leaseStartDate</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The start date of the lease in <code>YYYY-MM-DD</code> format.</td>
</tr>
<tr>
<td style="text-align: left"><code>leaseEndDate</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The end date of the lease in <code>YYYY-MM-DD</code> format.</td>
</tr>
<tr>
<td style="text-align: left"><code>documentUrls</code></td>
<td style="text-align: left">Array of objects</td>
<td style="text-align: left"><strong>Required.</strong> An array of objects containing the uploaded document details.</td>
</tr>
<tr>
<td style="text-align: left"><code>documentUrls[].fileName</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The name of the uploaded agreement file.</td>
</tr>
<tr>
<td style="text-align: left"><code>documentUrls[].url</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The publicly accessible URL of the uploaded file.</td>
</tr>
</tbody></table>
<h3 id='response-4'>Response</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>message</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">A confirmation that the rent agreement was created successfully.</td>
</tr>
<tr>
<td style="text-align: left"><code>agreementId</code></td>
<td style="text-align: left">UUID</td>
<td style="text-align: left">The unique identifier for the newly created rent agreement.</td>
</tr>
</tbody></table>
<h2 id='5-send-registration-bulk-action'>5. Send Registration (Bulk Action)</h2>
<blockquote>
<p>Request Body:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"agreementIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"ra_uuid_1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ra_uuid_3"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<blockquote>
<p>Successful Response (202 Accepted):</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Registration process has been initiated for 2 agreements."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='post-rent-agreements-send-registration'><strong>POST</strong> <code>/rent-agreements/send-registration</code></h3>
<ul>
<li><strong>Description:</strong> Triggers a registration process for one or more selected rent agreements. This could involve sending an email or SMS to the tenant.</li>
</ul>
<h3 id='request-body-3'>Request Body</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>agreementIds</code></td>
<td style="text-align: left">Array<UUID></td>
<td style="text-align: left"><strong>Required.</strong> An array of unique identifiers for the agreements to register.</td>
</tr>
</tbody></table>
<h3 id='response-5'>Response</h3>
<p>This response indicates that the request has been accepted and the registration process has begun in the background.</p>

<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>message</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">A confirmation that the registration process has been initiated.</td>
</tr>
</tbody></table>
<h2 id='6-set-reminder-bulk-action'>6. Set Reminder (Bulk Action)</h2><h3 id='post-rent-agreements-set-reminder'><strong>POST</strong> <code>/rent-agreements/set-reminder</code></h3>
<ul>
<li><strong>Description:</strong> Sets an internal reminder for one or more rent agreements, likely to notify the admin before the lease expires.</li>
</ul>

<h1 id='parking-management'>Parking Management</h1>
<p>This module handles all operations related to managing the society&#39;s parking slots and vehicle allocations.</p>

<p><strong>Authorization</strong>: All endpoints in this module require a Bearer Token with an Admin role.</p>
<h2 id='1-get-parking-dashboard-summary'>1. Get Parking Dashboard Summary</h2>
<blockquote>
<p>Successful Response (200 OK):</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"totalParkingSlots"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
  </span><span class="nl">"parkingCapacity"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
  </span><span class="nl">"totalAllocatedSlots"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
  </span><span class="nl">"vehiclesWithStickers"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='get-parking-summary'><strong>GET</strong> <code>/parking/summary</code></h3>
<ul>
<li><strong>Description:</strong>  Retrieves the high-level statistics for the parking dashboard, used to populate the main stat cards.</li>
</ul>
<h3 id='response'>Response</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>totalParkingSlots</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">The total number of distinct parking slots or areas in the society.</td>
</tr>
<tr>
<td style="text-align: left"><code>parkingCapacity</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">The total vehicle capacity across all parking slots.</td>
</tr>
<tr>
<td style="text-align: left"><code>totalAllocatedSlots</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">The number of parking slots that are currently allocated to residents.</td>
</tr>
<tr>
<td style="text-align: left"><code>vehiclesWithStickers</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">The total number of vehicles that have been issued a parking sticker.</td>
</tr>
</tbody></table>
<h2 id='2-list-parking-slots'>2. List Parking Slots</h2><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="c1">// To find all 'Allocated' slots that start with 'A-'</span>
    <span class="nx">fetch</span><span class="p">(</span><span class="dl">'</span><span class="s1">/api/v1/parking/slots?status=Allocated&amp;search=A-</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">GET</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">'</span><span class="s1">Authorization</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Bearer &lt;YOUR_ADMIN_TOKEN&gt;</span><span class="dl">'</span><span class="p">,</span>
    <span class="p">}</span>
  <span class="p">});</span>
<span class="p">}</span>
</code></pre></div>

<blockquote>
<p>Successful Response (200 OK):</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ps_uuid_1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"flatNo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A-421"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"parkingSlot"</span><span class="p">:</span><span class="w"> </span><span class="s2">"008"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"parkingArea"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Parking"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"parkingCapacity"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"twoWheeler"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fourWheeler"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ps_uuid_2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"flatNo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"B-011"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"parkingSlot"</span><span class="p">:</span><span class="w"> </span><span class="s2">"011"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"parkingArea"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Parking"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"parkingCapacity"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"twoWheeler"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fourWheeler"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='get-parking-slots'><strong>GET</strong> <code>/parking/slots</code></h3>
<ul>
<li><strong>Description:</strong>  Retrieves a list of all parking slots in the society. This powers the main table on the parking dashboard.</li>
</ul>
<h3 id='query-parameters'>Query Parameters</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>status</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><em>Optional.</em> Filters slots by status (e.g., <code>Allocated</code>, <code>Free</code>).</td>
</tr>
<tr>
<td style="text-align: left"><code>search</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><em>Optional.</em> Searches by slot number, parking area, or allocated flat number.</td>
</tr>
<tr>
<td style="text-align: left"><code>page</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left"><em>Optional.</em> The page number for pagination. Defaults to <code>1</code>.</td>
</tr>
<tr>
<td style="text-align: left"><code>limit</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left"><em>Optional.</em> The number of items per page. Defaults to <code>10</code>.</td>
</tr>
</tbody></table>
<h3 id='response-2'>Response</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>data</code></td>
<td style="text-align: left">Array of objects</td>
<td style="text-align: left">An array of parking slot objects.</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].id</code></td>
<td style="text-align: left">UUID</td>
<td style="text-align: left">The unique identifier for the parking slot record.</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].flatNo</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The flat number to which the slot is allocated. Can be <code>null</code> if free.</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].parkingSlot</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The specific number or identifier of the parking slot.</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].parkingArea</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The name or identifier of the parking area (e.g., <code>Basement 1</code>).</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].parkingCapacity</code></td>
<td style="text-align: left">Object</td>
<td style="text-align: left">An object detailing the vehicle capacity of the slot.</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].parkingCapacity.twoWheeler</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">The number of two-wheelers the slot can accommodate.</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].parkingCapacity.fourWheeler</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">The number of four-wheelers the slot can accommodate.</td>
</tr>
<tr>
<td style="text-align: left"><code>pagination</code></td>
<td style="text-align: left">Object</td>
<td style="text-align: left">An object containing pagination details.</td>
</tr>
<tr>
<td style="text-align: left"><code>pagination.total</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">The total number of records matching the query.</td>
</tr>
<tr>
<td style="text-align: left"><code>pagination.page</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">The current page number.</td>
</tr>
<tr>
<td style="text-align: left"><code>pagination.limit</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">The number of items requested per page.</td>
</tr>
<tr>
<td style="text-align: left"><code>pagination.totalPages</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">The total number of pages available.</td>
</tr>
</tbody></table>
<h2 id='3-create-a-new-parking-slot'>3. Create a New Parking Slot</h2>
<blockquote>
<p>Request Body:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"slotNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"B-105"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"parkingArea"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Basement"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"twoWheelerCapacity"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fourWheelerCapacity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<blockquote>
<p>Successful Response (201 Created):</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Parking slot created successfully."</span><span class="p">,</span><span class="w">
  </span><span class="nl">"slotId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new_parking_slot_uuid"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='post-parking-slots'>POST <code>/parking/slots</code></h3>
<ul>
<li><strong>Description:</strong>  Allows an admin to add a new parking slot to the society&#39;s inventory. This corresponds to the &quot;+ Create Parking&quot; button.</li>
</ul>
<h3 id='request-body'>Request Body</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>slotNumber</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The unique identifier or number for the new slot (e.g., <code>B-105</code>).</td>
</tr>
<tr>
<td style="text-align: left"><code>parkingArea</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The name of the area where the slot is located (e.g., <code>Basement</code>).</td>
</tr>
<tr>
<td style="text-align: left"><code>twoWheelerCapacity</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left"><strong>Required.</strong> The number of two-wheelers the slot can hold.</td>
</tr>
<tr>
<td style="text-align: left"><code>fourWheelerCapacity</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left"><strong>Required.</strong> The number of four-wheelers the slot can hold.</td>
</tr>
</tbody></table>
<h3 id='response-3'>Response</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>message</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">A confirmation that the parking slot was created successfully.</td>
</tr>
<tr>
<td style="text-align: left"><code>slotId</code></td>
<td style="text-align: left">UUID</td>
<td style="text-align: left">The unique identifier for the newly created parking slot.</td>
</tr>
</tbody></table>
<h2 id='4-allocate-a-parking-slot'>4. Allocate a Parking Slot</h2>
<blockquote>
<p>Request Body:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"slotId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"parking_slot_uuid_to_allocate"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"flatId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"flat_uuid_to_allocate_to"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<blockquote>
<p>Successful Response (201 Created):</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Parking slot B-105 has been allocated to flat D-210."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<blockquote>
<p>Error Response (409 Conflict):</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This parking slot is already allocated."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='post-parking-slots-allocate'>POST <code>/parking/slots/allocate</code></h3>
<ul>
<li><strong>Description:</strong>  Allocates a specific parking slot to a flat. This corresponds to the &quot;+ Allocate Parking&quot; button.</li>
</ul>
<h3 id='request-body-2'>Request Body</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>slotId</code></td>
<td style="text-align: left">UUID</td>
<td style="text-align: left"><strong>Required.</strong> The unique identifier of the parking slot to be allocated.</td>
</tr>
<tr>
<td style="text-align: left"><code>flatId</code></td>
<td style="text-align: left">UUID</td>
<td style="text-align: left"><strong>Required.</strong> The unique identifier of the flat to which the slot is allocated.</td>
</tr>
</tbody></table>
<h3 id='response-4'>Response</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>message</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">A confirmation that the parking slot was successfully allocated.</td>
</tr>
</tbody></table>
<h2 id='5-de-allocate-a-parking-slot'>5. De-allocate a Parking Slot</h2><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="c1">// To de-allocate the parking slot with a specific ID</span>
    <span class="kd">const</span> <span class="nx">slotIdToDeallocate</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">a1b2c3d4-e5f6-7890-1234-567890abcdef</span><span class="dl">"</span><span class="p">;</span>

    <span class="nx">fetch</span><span class="p">(</span><span class="s2">`/api/v1/parking/slots/</span><span class="p">${</span><span class="nx">slotIdToDeallocate</span><span class="p">}</span><span class="s2">/deallocate`</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">PUT</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">'</span><span class="s1">Authorization</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Bearer &lt;YOUR_ADMIN_TOKEN&gt;</span><span class="dl">'</span><span class="p">,</span>
    <span class="p">}</span>
  <span class="p">});</span>
<span class="p">}</span>
</code></pre></div>

<blockquote>
<p>Successful Response (200 OK):</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Parking slot has been de-allocated successfully."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='put-parking-slots-id-deallocate'>PUT <code>/parking/slots/:id/deallocate</code></h3>
<ul>
<li><strong>Description:</strong>  Removes the allocation of a parking slot from a flat, making it &quot;Free&quot;. This would be an action inside the table for an allocated slot.</li>
</ul>
<h3 id='path-parameters'>Path Parameters</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>id</code></td>
<td style="text-align: left">UUID</td>
<td style="text-align: left"><strong>Required.</strong> The ID of the parking slot to de-allocate.</td>
</tr>
</tbody></table>

<p><em>Note: This endpoint does not require a request body.</em></p>
<h3 id='response-5'>Response</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>message</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">A confirmation that the parking slot was de-allocated successfully.</td>
</tr>
</tbody></table>

<h1 id='amenities-and-classes'>Amenities And Classes</h1>
<p>This module handles the management of society amenities and the booking process for residents.</p>

<p><strong>Authorization</strong>: Most endpoints in this module require a Bearer Token with an Admin role. Resident-specific actions will be noted.</p>
<h2 id='1-get-amenities-dashboard-summary'>1. Get Amenities Dashboard Summary</h2>
<blockquote>
<p>Successful Response (200 OK):</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"amenitiesBookingCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
  </span><span class="nl">"bookingApprovalsCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
  </span><span class="nl">"classSubscriptionsCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
  </span><span class="nl">"amenitiesVisitorsCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='get-amenities-summary'><strong>GET</strong> <code>/amenities/summary</code></h3>
<ul>
<li><strong>Description:</strong> Retrieves the high-level statistics for the amenities dashboard, used to populate the main stat cards.</li>
<li><strong>Authorization:</strong>  Bearer Token required (Admin role only).</li>
</ul>

<p><em>Note: This endpoint is a <code>GET</code> request and does not require a request body or any query parameters.</em></p>
<h3 id='response'>Response</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>amenitiesBookingCount</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">The total number of amenities that have been booked.</td>
</tr>
<tr>
<td style="text-align: left"><code>bookingApprovalsCount</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">The number of bookings that are currently pending approval.</td>
</tr>
<tr>
<td style="text-align: left"><code>classSubscriptionsCount</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">The total number of active subscriptions to classes.</td>
</tr>
<tr>
<td style="text-align: left"><code>amenitiesVisitorsCount</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">The total count of visitors associated with amenity bookings.</td>
</tr>
</tbody></table>
<h2 id='2-list-amenity-bookings'>2. List Amenity Bookings</h2>
<blockquote>
<p>Example Request (with query parameters):</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
   <span class="c1">// To get all bookings pending approval for "A Block"</span>
    <span class="nx">fetch</span><span class="p">(</span><span class="dl">'</span><span class="s1">/api/v1/amenity-bookings?status=Pending_Approval&amp;search=A Block</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
        <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">GET</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span> <span class="dl">'</span><span class="s1">Authorization</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Bearer &lt;YOUR_ADMIN_TOKEN&gt;</span><span class="dl">'</span> <span class="p">}</span>
    <span class="p">});</span>
<span class="p">}</span>
</code></pre></div>

<blockquote>
<p>Successful Response (200 OK):</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"booking_uuid_1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"apartment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A Block-A-1021"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"visitor"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Vidya Sagar"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"amenity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gym (Unit 1)"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-09-04T18:45:00Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-09-04T19:45:00Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Approved"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"payment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Paid"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='get-amenity-bookings'><strong>GET</strong> <code>/amenity-bookings</code></h3>
<ul>
<li><strong>Description:</strong>  Retrieves a paginated list of all amenity bookings. This is the primary endpoint for the main table. The frontend uses the status query parameter to filter the data for different tabs (e.g., ?status=Pending_Approval for the &quot;Booking Approvals&quot; tab).</li>
<li><strong>Authorization:</strong>  Bearer Token required (Admin role only).</li>
</ul>
<h3 id='query-parameters'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>In</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>String</td>
<td>Query</td>
<td>Optional. Filters bookings by status: Pending_Approval, Approved, Cancelled.</td>
</tr>
<tr>
<td>search</td>
<td>String</td>
<td>Query</td>
<td>Optional. Searches by apartment (flat number) or visitor (resident name).</td>
</tr>
<tr>
<td>startDate</td>
<td>String</td>
<td>Query</td>
<td>Optional. Filters for bookings on or after this date (e.g., 2025-09-01).</td>
</tr>
<tr>
<td>endDate</td>
<td>String</td>
<td>Query</td>
<td>Optional. Filters for bookings on or before this date (e.g., 2025-09-30).</td>
</tr>
</tbody></table>
<h3 id='successful-response-200-ok'>Successful Response (200 OK)</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>data</code></td>
<td style="text-align: left">Array of objects</td>
<td style="text-align: left">An array of amenity booking objects.</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].id</code></td>
<td style="text-align: left">UUID</td>
<td style="text-align: left">The unique identifier for the booking.</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].apartment</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The apartment or flat number associated with the booking.</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].visitor</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The name of the resident who made the booking.</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].amenity</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The name of the booked amenity.</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].startTime</code></td>
<td style="text-align: left">DateTime</td>
<td style="text-align: left">The start date and time of the booking.</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].endTime</code></td>
<td style="text-align: left">DateTime</td>
<td style="text-align: left">The end date and time of the booking.</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].status</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The current status of the booking (e.g., <code>Approved</code>).</td>
</tr>
<tr>
<td style="text-align: left"><code>data[].payment</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The payment status of the booking (e.g., <code>Paid</code>, <code>Unpaid</code>).</td>
</tr>
<tr>
<td style="text-align: left"><code>pagination</code></td>
<td style="text-align: left">Object</td>
<td style="text-align: left">An object containing pagination details.</td>
</tr>
<tr>
<td style="text-align: left"><code>pagination.total</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">The total number of records matching the query.</td>
</tr>
<tr>
<td style="text-align: left"><code>pagination.page</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">The current page number.</td>
</tr>
<tr>
<td style="text-align: left"><code>pagination.limit</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">The number of items requested per page.</td>
</tr>
<tr>
<td style="text-align: left"><code>pagination.totalPages</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left">The total number of pages available.</td>
</tr>
</tbody></table>
<h2 id='3-add-a-new-amenity'>3. Add a New Amenity</h2>
<blockquote>
<p>Request Body:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Clubhouse Party Hall"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A multi-purpose hall for events and gatherings."</span><span class="p">,</span><span class="w">
  </span><span class="nl">"capacity"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
  </span><span class="nl">"paymentRequired"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"bookingFee"</span><span class="p">:</span><span class="w"> </span><span class="mf">2500.00</span><span class="p">,</span><span class="w">
  </span><span class="nl">"bookingRules"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bookings must be made 48 hours in advance. Cleaning charges extra."</span><span class="p">,</span><span class="w">
  </span><span class="nl">"imageUrls"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"[https://storage.url/hall_image1.jpg](https://storage.url/hall_image1.jpg)"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"[https://storage.url/hall_image2.jpg](https://storage.url/hall_image2.jpg)"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<blockquote>
<p>Successful Response (201 Created):</p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Amenity created successfully."</span><span class="p">,</span><span class="w">
  </span><span class="nl">"amenityId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new_amenity_uuid"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='post-amenities'><strong>POST</strong> <code>/amenities</code></h3>
<ul>
<li><strong>Description:</strong>  Allows an admin to add a new amenity to the society&#39;s inventory. This corresponds to the &quot;+ Add New Amenity&quot; button.</li>
<li><strong>Authorization:</strong>  Bearer Token required (Admin role only).</li>
</ul>
<h3 id='request-body'>Request Body</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>name</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The name of the amenity (e.g., <code>Clubhouse Party Hall</code>).</td>
</tr>
<tr>
<td style="text-align: left"><code>description</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> A brief description of the amenity.</td>
</tr>
<tr>
<td style="text-align: left"><code>capacity</code></td>
<td style="text-align: left">Integer</td>
<td style="text-align: left"><strong>Required.</strong> The maximum capacity of the amenity.</td>
</tr>
<tr>
<td style="text-align: left"><code>paymentRequired</code></td>
<td style="text-align: left">Boolean</td>
<td style="text-align: left"><strong>Required.</strong> Set to <code>true</code> if booking requires payment.</td>
</tr>
<tr>
<td style="text-align: left"><code>bookingFee</code></td>
<td style="text-align: left">Number</td>
<td style="text-align: left"><strong>Required.</strong> The fee for booking the amenity. Can be <code>0</code> if no payment is required.</td>
</tr>
<tr>
<td style="text-align: left"><code>bookingRules</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> A text field for rules and regulations.</td>
</tr>
<tr>
<td style="text-align: left"><code>imageUrls</code></td>
<td style="text-align: left">Array<String></td>
<td style="text-align: left"><strong>Required.</strong> An array of publicly accessible URLs for images of the amenity.</td>
</tr>
</tbody></table>
<h3 id='response-2'>Response</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>message</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">A confirmation that the amenity was created successfully.</td>
</tr>
<tr>
<td style="text-align: left"><code>amenityId</code></td>
<td style="text-align: left">UUID</td>
<td style="text-align: left">The unique identifier for the newly created amenity.</td>
</tr>
</tbody></table>
<h2 id='4-get-single-booking-details'>4. Get Single Booking Details</h2>
<blockquote>
<p>Successful Response (201 Created):</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"booking_uuid_1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Approved"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-09-04T18:45:00Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-09-04T19:45:00Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-09-02T10:00:00Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"paymentStatus"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Paid"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"bookingFee"</span><span class="p">:</span><span class="w"> </span><span class="mf">500.00</span><span class="p">,</span><span class="w">
  </span><span class="nl">"amenity"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"amenity_uuid_gym"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gym (Unit 1)"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gymnasium with free weights and cardio equipment."</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"bookedBy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user_uuid_vidya"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fullName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Vidya Sagar"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"phoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9876543210"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"flat"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"flat_uuid_1021"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"flatNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A-1021"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='get-amenity-bookings-id'><strong>GET</strong> <code>/amenity-bookings/:id</code></h3>
<ul>
<li><strong>Description:</strong>   Retrieves all details for a single booking. Used for the &quot;View Details&quot; action.</li>
<li><strong>Authorization:</strong>  Bearer Token required (Admin role only).</li>
</ul>
<h3 id='path-parameters'>Path Parameters</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>id</code></td>
<td style="text-align: left">UUID</td>
<td style="text-align: left"><strong>Required.</strong> The unique identifier of the booking to fetch.</td>
</tr>
</tbody></table>

<p><em>Note: This endpoint is a <code>GET</code> request and does not require a request body.</em></p>
<h3 id='response-3'>Response</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>id</code></td>
<td style="text-align: left">UUID</td>
<td style="text-align: left">The unique identifier for the booking.</td>
</tr>
<tr>
<td style="text-align: left"><code>status</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The current status of the booking (e.g., <code>Approved</code>).</td>
</tr>
<tr>
<td style="text-align: left"><code>startTime</code></td>
<td style="text-align: left">DateTime</td>
<td style="text-align: left">The start date and time of the booking.</td>
</tr>
<tr>
<td style="text-align: left"><code>endTime</code></td>
<td style="text-align: left">DateTime</td>
<td style="text-align: left">The end date and time of the booking.</td>
</tr>
<tr>
<td style="text-align: left"><code>createdAt</code></td>
<td style="text-align: left">DateTime</td>
<td style="text-align: left">The timestamp when the booking was originally made.</td>
</tr>
<tr>
<td style="text-align: left"><code>paymentStatus</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The payment status of the booking (e.g., <code>Paid</code>, <code>Unpaid</code>).</td>
</tr>
<tr>
<td style="text-align: left"><code>bookingFee</code></td>
<td style="text-align: left">Number</td>
<td style="text-align: left">The amount charged for the booking.</td>
</tr>
<tr>
<td style="text-align: left"><code>amenity</code></td>
<td style="text-align: left">Object</td>
<td style="text-align: left">An object containing details about the booked amenity.</td>
</tr>
<tr>
<td style="text-align: left"><code>amenity.id</code></td>
<td style="text-align: left">UUID</td>
<td style="text-align: left">The unique identifier for the amenity.</td>
</tr>
<tr>
<td style="text-align: left"><code>amenity.name</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The name of the amenity.</td>
</tr>
<tr>
<td style="text-align: left"><code>amenity.description</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">A brief description of the amenity.</td>
</tr>
<tr>
<td style="text-align: left"><code>bookedBy</code></td>
<td style="text-align: left">Object</td>
<td style="text-align: left">An object containing details of the user who made the booking.</td>
</tr>
<tr>
<td style="text-align: left"><code>bookedBy.id</code></td>
<td style="text-align: left">UUID</td>
<td style="text-align: left">The unique identifier for the user.</td>
</tr>
<tr>
<td style="text-align: left"><code>bookedBy.fullName</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The full name of the user.</td>
</tr>
<tr>
<td style="text-align: left"><code>bookedBy.phoneNumber</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The contact phone number of the user.</td>
</tr>
<tr>
<td style="text-align: left"><code>flat</code></td>
<td style="text-align: left">Object</td>
<td style="text-align: left">An object containing details of the flat associated with the booking.</td>
</tr>
<tr>
<td style="text-align: left"><code>flat.id</code></td>
<td style="text-align: left">UUID</td>
<td style="text-align: left">The unique identifier for the flat.</td>
</tr>
<tr>
<td style="text-align: left"><code>flat.flatNumber</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">The number of the flat.</td>
</tr>
</tbody></table>
<h2 id='5-create-a-booking-resident-action'>5.  Create a Booking (Resident Action)</h2><h3 id='post-amenity-bookings'><strong>POST</strong> <code>/amenity-bookings</code></h3>
<ul>
<li><strong>Description:</strong> Allows a resident to request a booking for an amenity.</li>
<li><strong>Authorization:</strong>  Bearer Token required (Resident role only).</li>
</ul>
<h2 id='6-update-booking-status-admin-actions'>6.  Update Booking Status (Admin Actions)</h2><h3 id='approve-a-booking'>Approve a Booking</h3><h3 id='put-amenity-bookings-id-approve'><strong>PUT</strong> <code>/amenity-bookings/:id/approve</code></h3>
<ul>
<li><strong>Description:</strong> Approves a pending booking request.</li>
<li><strong>Authorization:</strong>  Bearer Token required (Admin role only).</li>
</ul>

<p><strong>Successful Response (200 OK):</strong> { &quot;message&quot;: &quot;Booking has been approved.&quot; }</p>
<h3 id='reject-cancel-a-booking'>Reject/Cancel a Booking</h3><h3 id='put-amenity-bookings-id-reject'><strong>PUT</strong> <code>/amenity-bookings/:id/reject</code></h3>
<ul>
<li><strong>Description:</strong> Rejects or cancels a pending booking request.</li>
<li><strong>Authorization:</strong>  Bearer Token required (Admin role only).</li>
</ul>

<p><strong>Successful Response (200 OK):</strong> { &quot;message&quot;: &quot;Booking has been rejected.&quot; }</p>
<h3 id='mark-as-completed'>Mark as Completed</h3><h3 id='put-amenity-bookings-id-complete'><strong>PUT</strong> <code>/amenity-bookings/:id/complete</code></h3>
<ul>
<li><strong>Description:</strong> Marks a booking as completed after the time has passed.</li>
<li><strong>Authorization:</strong>  Bearer Token required (Admin role only).</li>
</ul>

<p><strong>Successful Response (200 OK):</strong> { &quot;message&quot;: &quot;Booking marked as completed.&quot; }</p>
<h2 id='7-edit-amp-reschedule-a-booking-admin-action'>7. Edit &amp; Reschedule a Booking (Admin Action)</h2>
<blockquote>
<p>Request Boduy:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-10-11T09:00:00Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"endTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2025-10-11T10:00:00Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<blockquote>
<p>Successful Response (200 OK): </p>
</blockquote>

<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Booking has been rescheduled."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='put-amenity-bookings-id'><strong>PUT</strong> <code>/amenity-bookings/:id</code></h3>
<ul>
<li><strong>Description:</strong> Allows an admin to edit details of a booking, such as rescheduling the time.</li>
<li><strong>Authorization:</strong>  Bearer Token required (Admin role only).</li>
</ul>
<h3 id='path-parameters-2'>Path Parameters</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>id</code></td>
<td style="text-align: left">UUID</td>
<td style="text-align: left"><strong>Required.</strong> The unique identifier of the booking to reschedule.</td>
</tr>
</tbody></table>
<h3 id='request-body-2'>Request Body</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>startTime</code></td>
<td style="text-align: left">DateTime</td>
<td style="text-align: left"><strong>Required.</strong> The new start date and time for the booking in ISO format.</td>
</tr>
<tr>
<td style="text-align: left"><code>endTime</code></td>
<td style="text-align: left">DateTime</td>
<td style="text-align: left"><strong>Required.</strong> The new end date and time for the booking in ISO format.</td>
</tr>
</tbody></table>
<h3 id='response-4'>Response</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>message</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">A confirmation that the booking has been rescheduled.</td>
</tr>
</tbody></table>
<h2 id='8-delete-a-booking-admin-action'>8. Delete a Booking (Admin Action)</h2>
<blockquote>
<p>Successful Response (200 OK): </p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Booking has been Deleted Successfully."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='delete-amenity-bookings-id'><strong>DELETE</strong> <code>/amenity-bookings/:id</code></h3>
<ul>
<li><strong>Description:</strong> Permanently deletes a booking record. This is a destructive action.</li>
<li><strong>Authorization:</strong>  Bearer Token required (Admin role only).</li>
</ul>
<h3 id='request-headers'>Request Headers</h3>
<table><thead>
<tr>
<th style="text-align: left">Header</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>Authorization</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The JWT token of an <code>Admin</code> user, prefixed with &quot;Bearer &quot; (e.g., <code>Bearer &lt;token&gt;</code>).</td>
</tr>
</tbody></table>
<h3 id='path-parameters-3'>Path Parameters</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>id</code></td>
<td style="text-align: left">UUID</td>
<td style="text-align: left"><strong>Required.</strong> The unique identifier of the booking to delete.</td>
</tr>
</tbody></table>

<p><em>Note: This endpoint does not require a request body.</em></p>
<h3 id='successful-response-204-no-content'>Successful Response (204 No Content)</h3>
<p>A successful request will return an empty response body with a <code>204</code> status code, indicating that the booking has been deleted.</p>
<h2 id='9-manage-payment-status-admin-action'>9.  Manage Payment Status (Admin Action)</h2>
<blockquote>
<p>Request Body:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Paid"</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">e.g.</span><span class="p">,</span><span class="w"> </span><span class="s2">"Paid"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Waived"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Refunded"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>

<blockquote>
<p>Successful Response (200 OK):</p>
</blockquote>

<p><div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Payment status updated successfully.&quot;</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='put-amenity-bookings-id-payment'><strong>PUT</strong> <code>/amenity-bookings/:id/payment</code></h3>
<ul>
<li><strong>Description:</strong> Allows an admin to update the payment status for a booking.</li>
<li><strong>Authorization:</strong>  Bearer Token required (Admin role only).</li>
</ul>
<h3 id='request-headers-2'>Request Headers</h3>
<table><thead>
<tr>
<th style="text-align: left">Header</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>Authorization</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The JWT token of an <code>Admin</code> user, prefixed with &quot;Bearer &quot; (e.g., <code>Bearer &lt;token&gt;</code>).</td>
</tr>
</tbody></table>
<h3 id='path-parameters-4'>Path Parameters</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>id</code></td>
<td style="text-align: left">UUID</td>
<td style="text-align: left"><strong>Required.</strong> The unique identifier of the booking to update.</td>
</tr>
</tbody></table>
<h3 id='request-body-3'>Request Body</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>status</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left"><strong>Required.</strong> The new payment status (e.g., <code>Paid</code>, <code>Waived</code>, <code>Refunded</code>).</td>
</tr>
</tbody></table>
<h3 id='response-5'>Response</h3>
<table><thead>
<tr>
<th style="text-align: left">Parameter</th>
<th style="text-align: left">Type</th>
<th style="text-align: left">Description</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><code>message</code></td>
<td style="text-align: left">String</td>
<td style="text-align: left">A confirmation that the payment status was updated successfully.</td>
</tr>
</tbody></table></p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
                <a href="#" data-language-name="javascript">javascript</a>
                <a href="#" data-language-name="rust">rust</a>
          </div>
      </div>
    </div>
  </body>
</html>
